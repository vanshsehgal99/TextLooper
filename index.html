<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextLooper</title>
    <link rel="icon" type="imgage/png" href="icon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <main>
        <h1>TextLooper</h1>
        <section class="section-1">
            <div class="sec1-boxes">
                <div class="txtbox">ORIGINAL TEXT</div>
                <textarea id="originalText" class="txtarea" placeholder="Enter your text here..."></textarea>
                <div class="inner1-box">
                    <button class="btn" onclick="resetOriginal()"><i class="fas fa-undo"></i> Reset</button>
                    <button class="btn" onclick="selectOriginal()"><i class="fas fa-check-square"></i> Select all</button>
                </div>
            </div>

            <div class="sec1-boxes">
                <div class="txtbox">TEXT REPEATED</div>
                <textarea id="repeatedText" class="txtarea" readonly></textarea>
                <div class="inner2-box">
                    <button class="btn" onclick="resetRepeated()"><i class="fas fa-undo"></i> Reset</button>
                    <button class="btn" onclick="selectRepeated()"><i class="fas fa-check-square"></i> Select all</button>
                    <button class="btn" onclick="copyRepeated()"><i class="fas fa-copy"></i> Copy all</button>
                    <button class="btn" onclick="downloadText()"><i class="fas fa-download"></i> Download</button>
                </div>
            </div>
        </section>

        <div class="work">
            <div class="txtbox">OPTIONS</div>
            <div class="work-box1">
                <div class="option-group">
                    <p>How many times repeat the text?</p>
                    <input type="number" id="repeatCount" min="1" max="1000" value="1" class="number-input">
                </div>
                <div class="option-group">
                    <p>Text Display Format:</p>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="displayFormat" value="same-line" checked>
                            <span>Same Line</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="displayFormat" value="new-line">
                            <span>One Per Line</span>
                        </label>
                    </div>
                </div>
                <div class="option-group">
                    <p>Add Numbering:</p>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="numbering" value="none" checked>
                            <span>No Numbering</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="numbering" value="numbers">
                            <span>Numbers</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="numbering" value="bullets">
                            <span>Bullets</span>
                        </label>
                    </div>
                </div>
                <button class="btn generate-btn" onclick="generateRepeatedText()"><i class="fas fa-sync"></i> Generate</button>
            </div>
        </div>
        <footer>
            <p>&copy; 2025 TextLooper. All rights reserved.</p>
        <p>Made by Vansh Sehgal</p>
        </footer>
    </main>

    <script>
        function resetOriginal() {
            document.getElementById('originalText').value = '';
        }

        function selectOriginal() {
            document.getElementById('originalText').select();
        }

        function resetRepeated() {
            document.getElementById('repeatedText').value = '';
        }

        function selectRepeated() {
            document.getElementById('repeatedText').select();
        }

        function copyRepeated() {
            const repeatedText = document.getElementById('repeatedText');
            repeatedText.select();
            document.execCommand('copy');
        }

        function downloadText() {
            const text = document.getElementById('repeatedText').value;
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'repeated-text.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function generateRepeatedText() {
            const originalText = document.getElementById('originalText').value;
            const repeatCount = parseInt(document.getElementById('repeatCount').value);
            const repeatedText = document.getElementById('repeatedText');
            const displayFormat = document.querySelector('input[name="displayFormat"]:checked').value;
            const numbering = document.querySelector('input[name="numbering"]:checked').value;
            
            if (originalText.trim() === '') {
                alert('Please enter some text first!');
                return;
            }

            let result = '';
            if (displayFormat === 'same-line') {
                result = originalText.repeat(repeatCount);
            } else {
                result = Array(repeatCount).fill(originalText).join('\n');
            }

            if (numbering === 'numbers') {
                result = result.split('\n').map((line, index) => `${index + 1}. ${line}`).join('\n');
            } else if (numbering === 'bullets') {
                result = result.split('\n').map((line) => `â€¢ ${line}`).join('\n');
            }

            repeatedText.value = result;
        }
    </script>
</body>

</html>